{% extends "base.html" %}

{% block content %}
    {#    FIXME: Kinda hacky to just store username here somewhere.. we should save it in base#}
    <div id="_my_username" style="display:none">{{ user.username }}</div>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.0/socket.io.js"></script>
    <script defer src="{{ url_for('static', filename='js/chat/notifs.js') }}"></script>
    <script defer src="{{ url_for('static', filename='js/chat/notify.min.js') }}"></script>
    <script defer src="{{ url_for('static', filename='js/chat/utils.js') }}"></script>

    <script defer type="text/javascript" src="//golden-layout.com/files/latest/js/goldenlayout.min.js"></script>
    <link type="text/css" rel="stylesheet" href="//golden-layout.com/files/latest/css/goldenlayout-base.css"/>

    <link id='goldenLayoutTheme' type="text/css" rel="stylesheet"
          href="//golden-layout.com/files/latest/css/goldenlayout-dark-theme.css"/>
    <link id="chatTheme" href="{{ url_for('static', filename='styles/chat-dark.css') }}" rel="stylesheet"
          type="text/css"/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/8.4.1/markdown-it.min.js"
            integrity="sha256-xPwMubQT+EaVMOh04FjyG49sNwJmmGYpnhWNh4osD5w="
            crossorigin="anonymous"></script>
    <script defer src="{{ url_for('static', filename='js/chat/markdown-it-video.js') }}"></script>
    <script defer src="{{ url_for('static', filename='js/chat/markdown-it-emoji-1.4.0.min.js') }}"></script>
    <script defer src="//twemoji.maxcdn.com/2/twemoji.min.js?2.3.0"></script>
    <script defer src="{{ url_for('static', filename='js/chat/markdown-it-mathjax-2.0.0.js') }}"></script>
    <script defer src="{{ url_for('static', filename='js/chat/favico-0.3.10.min.js') }}"></script>

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            extensions: ["tex2jax.js", "Safe.js"],
            jax: ["input/TeX", "output/HTML-CSS"],
            tex2jax: {
                inlineMath: [ ['$$', '$$'], ['\\(', '\\)'], ['\\[', '\\]'] ],
                displayMath: [ ],
                processEscapes: true,
            },
            "HTML-CSS": {availableFonts: ["TeX"]},
            "fast-preview": {
                Chunks: {EqnChunk: 10000, EqnChunkFactor: 1, EqnChunkDelay: 0},
                color: "inherit!important",
                updateTime: 30, updateDelay: 6,
                messageStyle: "none",
                disabled: false
            },
        });
    </script>
    <script async
            src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML'></script>

    <script defer src="{{ url_for('static', filename='js/chat/templates.js') }}"></script>
    <script defer src="{{ url_for('static', filename='js/chat/chat-alpha.js') }}"></script>



    <div id="wrapper">
        <div id="layoutContainer"></div>
    </div>


{% endblock %}
